(this["webpackJsonpmy-react-1"]=this["webpackJsonpmy-react-1"]||[]).push([[0],{10:function(e,t,a){e.exports={nav:"Navbar_nav__2sztN",item:"Navbar_item__27Hhh",activeLink:"Navbar_activeLink__fUpU1",friendsBlock:"Navbar_friendsBlock__do2kX",friendItem:"Navbar_friendItem__149V5",friendHead:"Navbar_friendHead__1PzKw",friendName:"Navbar_friendName__2gFwj",itemBlock:"Navbar_itemBlock__2vidS"}},128:function(e,t,a){e.exports={newsAreaWrapper:"News_newsAreaWrapper__3kWZb"}},131:function(e,t,a){e.exports={selectedPage:"paginator_selectedPage__EZDCd"}},132:function(e,t,a){e.exports=a.p+"static/media/Preloader.58e4a4e4.gif"},133:function(e,t,a){e.exports={item:"Post_item__3NuGk"}},134:function(e,t,a){e.exports=a.p+"static/media/reactIcon.580ffd26.png"},161:function(e,t,a){e.exports=a(287)},163:function(e,t,a){},167:function(e,t,a){},17:function(e,t,a){e.exports={dialogs:"Dialogs_dialogs__3Vvai",dialog:"Dialogs_dialog__JFYg5",active:"Dialogs_active__NGAK5",messages:"Dialogs_messages__1Jj99",dialogsItems:"Dialogs_dialogsItems__3ikog",dialogsItem:"Dialogs_dialogsItem__VVYuu",textDiv:"Dialogs_textDiv__1mSds",sendMsgBtn:"Dialogs_sendMsgBtn__2zumW",messageArea:"Dialogs_messageArea__3nBsK",msgBtnArea:"Dialogs_msgBtnArea__YqFjI"}},287:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n);a(163),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var s=a(65),i=a.n(s),o=a(25),c=a(26),l=a(28),u=a(27),m=(a(167),a(11)),p=a(13),d=a(128),g=a.n(d),f=function(e){return r.a.createElement("div",{className:g.a.newsAreaWrapper},r.a.createElement("div",null,r.a.createElement("img",{src:"https://www.ashdownjones.co.uk/wp-content/uploads/2018/02/Hannah-profile-118-square.jpg",alt:"Image"})," "),r.a.createElement("div",null,r.a.createElement("img",{src:"https://thumbs.dreamstime.com/b/cute-girl-avatar-icon-young-woman-glasses-pretty-lady-portrait-cartoon-illustration-beautiful-brunette-76317721.jpg",alt:"image"})),r.a.createElement("div",null,r.a.createElement("img",{src:"https://pbs.twimg.com/profile_images/1158825917201944576/b1NGRFxC.jpg",alt:"image"})),r.a.createElement("div",null,r.a.createElement("img",{src:"https://avatarfiles.alphacoders.com/160/160599.jpg",alt:"image"})),r.a.createElement("div",null,r.a.createElement("img",{src:"https://images.sk-static.com/images/media/profile_images/artists/9586029/huge_avatar",alt:"image"})),r.a.createElement("div",null,r.a.createElement("img",{src:"https://avatarfiles.alphacoders.com/152/thumb-152197.png",alt:"image"})),r.a.createElement("div",null,r.a.createElement("img",{src:"https://www.ashdownjones.co.uk/wp-content/uploads/2018/02/Hannah-profile-118-square.jpg",alt:"Image"})," "),r.a.createElement("div",null,r.a.createElement("img",{src:"https://thumbs.dreamstime.com/b/cute-girl-avatar-icon-young-woman-glasses-pretty-lady-portrait-cartoon-illustration-beautiful-brunette-76317721.jpg",alt:"image"})),r.a.createElement("div",null,r.a.createElement("img",{src:"https://pbs.twimg.com/profile_images/1158825917201944576/b1NGRFxC.jpg",alt:"image"})),r.a.createElement("div",null,r.a.createElement("img",{src:"https://avatarfiles.alphacoders.com/160/160599.jpg",alt:"image"})),r.a.createElement("div",null,r.a.createElement("img",{src:"https://images.sk-static.com/images/media/profile_images/artists/9586029/huge_avatar",alt:"image"})),r.a.createElement("div",null,r.a.createElement("img",{src:"https://avatarfiles.alphacoders.com/152/thumb-152197.png",alt:"image"})))},h=function(e){return r.a.createElement("div",null,"Music")},E=function(e){return r.a.createElement("div",null,"Settings")},v=a(43),b=a(4),_={messages:[{id:1,message:"Hi"},{id:2,message:"How are"},{id:3,message:"You"},{id:4,message:"React"},{id:5,message:"Was"},{id:6,message:"Amazing"}],dialogs:[{id:1,name:"Gor",imgSrc:"https://www.shankarainfra.com/img/avatar.png"},{id:2,name:"Gor1",imgSrc:"https://www.shankarainfra.com/img/avatar.png"},{id:3,name:"Gor2",imgSrc:"https://www.shankarainfra.com/img/avatar.png"},{id:4,name:"Gor3",imgSrc:"https://www.shankarainfra.com/img/avatar.png"},{id:5,name:"Gor4",imgSrc:"https://www.shankarainfra.com/img/avatar.png"},{id:6,name:"Gor5",imgSrc:"https://www.shankarainfra.com/img/avatar.png"}]},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEND-MESSAGE":var a=t.newMessageBody;return Object(b.a)(Object(b.a)({},e),{},{messages:[].concat(Object(v.a)(e.messages),[{id:7,message:a}])});default:return e}},w=a(17),j=a.n(w),k=function(e){return r.a.createElement("div",{className:j.a.dialog},e.message)},S=function(e){var t="/dialogs/"+e.id;return r.a.createElement("div",{className:j.a.dialogs},r.a.createElement("img",{src:e.avaimg,width:"20px",height:"20px",alt:"avatar"}),r.a.createElement(p.b,{to:t}," ",e.name," "))},P=a(125),y=a(126),N=a(70),C=a(53),I=a.n(C),T=function(e){return function(t){var a=t.input,n=t.meta,s=Object(N.a)(t,["input","meta"]),i=n.touched&&n.error;return r.a.createElement("div",{className:I.a.formControl+" "+(i?I.a.error:null)},r.a.createElement("div",null," ",r.a.createElement(e,Object.assign({},s,a))," "),i&&r.a.createElement("span",null," ",n.error," "))}},A=function(e){if(!e)return"Field is required"},U=function(e){return function(t){if(t.length>e)return"Max Length is ".concat(e," symbols")}},x=U(100),L=T("textarea"),B=Object(y.a)({form:"addMessage"})((function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement("div",{className:j.a.textDiv},r.a.createElement(P.a,{component:L,name:"newMessageBody",validate:[A,x],className:j.a.messageArea,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435"}," ")," "),r.a.createElement("div",{className:j.a.msgBtnArea},r.a.createElement("button",{className:j.a.sendMsgBtn}," \u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c ")," "))})),F=function(e){var t=e.dialogsPage,a=t.dialogs.map((function(e){return r.a.createElement(S,{avaimg:e.imgSrc,key:e.id,name:e.name,id:e.id})})),n=t.messages.map((function(e){return r.a.createElement(k,{message:e.message,key:e.id,id:e.id})}));return e.isAuth?r.a.createElement("div",{className:j.a.dialogs},r.a.createElement("div",{className:j.a.dialogsItems},r.a.createElement("div",{className:j.a.dialogsItem},a)),r.a.createElement("div",{className:j.a.messages},n,r.a.createElement(B,{onSubmit:function(t){e.sendMessage(t.newMessageBody)}}))):r.a.createElement(m.a,{to:"/login"})},D=a(9),M=function(e){return{isAuth:e.auth.isAuth}},G=function(e){var t=function(t){Object(l.a)(n,t);var a=Object(u.a)(n);function n(){return Object(o.a)(this,n),a.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return this.props.isAuth?r.a.createElement(e,this.props):r.a.createElement(m.a,{to:"/login"})}}]),n}(r.a.Component);return Object(D.b)(M)(t)},R=a(6),z=Object(R.d)(Object(D.b)((function(e){return{dialogsPage:e.dialogsPage}}),(function(e){return{sendMessage:function(t){e(function(e){return{type:"SEND-MESSAGE",newMessageBody:e}}(t))}}})),G)(F),H=a(12),W=a.n(H),J=a(20),V=a(69),Y=V.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"d4f25d00-d786-4b93-abc3-c96ab32e3602"}}),Z=function(e,t){return Y.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},q=function(e){return Y.post("follow/".concat(e))},K=function(e){return Y.delete("follow/".concat(e))},X=function(e){return console.warn("Use profileAPI"),Q.getUserProfile(e)},Q={getUserProfile:function(e){return Y.get("profile/".concat(e)).then((function(e){return e.data}))},getStatus:function(e){return Y.get("profile/status/".concat(e)).then((function(e){return e.data}))},updateStatus:function(e){return Y.put("profile/status/",{status:e}).then((function(e){return e.data}))}},$=function(){return Y.get("auth/me").then((function(e){return e.data}))},ee=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Y.post("auth/login",{email:e,password:t,rememberMe:a}).then((function(e){return e.data}))},te=function(){return Y.delete("auth/login").then((function(e){return e.data}))},ae={users:[],pageSize:15,totalUsersCount:0,currentPage:1,isFetching:!0,followingInProgress:[]},ne=function(e){return{type:"FOLLOW",userId:e}},re=function(e){return{type:"UNFOLLOW",userId:e}},se=function(e){return{type:"SET_CURRENT_PAGE",currentPage:e}},ie=function(e){return{type:"TOGGLE_IS_FETCHING",isFetching:e}},oe=function(e,t){return{type:"TOGGLE_IS_FOLLOWING_PROGRESS",isFetching:e,userId:t}},ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return Object(b.a)(Object(b.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(b.a)(Object(b.a)({},e),{},{followed:!0}):e}))});case"UNFOLLOW":return Object(b.a)(Object(b.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(b.a)(Object(b.a)({},e),{},{followed:!1}):e}))});case"SET_USERS":return Object(b.a)(Object(b.a)({},e),{},{users:t.users});case"SET_CURRENT_PAGE":return Object(b.a)(Object(b.a)({},e),{},{currentPage:t.currentPage});case"SET_TOTAL_USERS_COUNT":return Object(b.a)(Object(b.a)({},e),{},{totalUsersCount:t.count});case"TOGGLE_IS_FETCHING":return Object(b.a)(Object(b.a)({},e),{},{isFetching:t.isFetching});case"TOGGLE_IS_FOLLOWING_PROGRESS":return Object(b.a)(Object(b.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(v.a)(e.followingInProgress),[t.userId]):[e.followingInProgress.filter((function(e){return e!==t.userId}))]});default:return e}},le=a(44),ue=a.n(le),me=a(32),pe=a.n(me),de=a(56),ge=a(131),fe=a.n(ge),he=function(e){for(var t=Math.ceil(e.totalItemsCount/e.pageSize),a=Math.ceil(t/e.portionSize),s=Object(n.useState)(1),i=Object(de.a)(s,2),o=i[0],c=i[1],l=(o-1)*e.portionSize,u=o*e.portionSize,m=[],p=1;p<=t;p++)m.push(p);return r.a.createElement("div",null,o>1&&r.a.createElement("button",{style:{backgroundColor:"#4CAF50"},onClick:function(){c(o-1)}},"Prev "),m.filter((function(e){return e<u&&e>l})).map((function(t){return r.a.createElement("span",{key:t,className:e.currentPage===t?fe.a.selectedPage:null,onClick:function(a){e.onPageChange(t)}}," ",t," ")})),a>o&&r.a.createElement("button",{style:{backgroundColor:"#4CAF50"},onClick:function(){c(o+1)}},"Next "))},Ee=function(e){var t=e.currentPage,a=e.onPageChange,n=e.totalUsersCount,s=e.pageSize,i=Object(N.a)(e,["currentPage","onPageChange","totalUsersCount","pageSize"]);return r.a.createElement("div",null,r.a.createElement(he,{currentPage:t,onPageChange:a,totalItemsCount:n,pageSize:s,portionSize:10}),i.users.map((function(e){return r.a.createElement("div",{className:ue.a.userBlock,key:e.id},r.a.createElement("span",null,r.a.createElement("div",null,r.a.createElement(p.b,{to:"/profile/"+e.id},r.a.createElement("img",{alt:"userImg",src:null!=e.photos.small?e.photos.small:pe.a,className:ue.a.photoUser}))),r.a.createElement("div",null,e.followed?r.a.createElement("button",{style:{backgroundColor:"#f44336"},disabled:i.followingInProgress.some((function(t){return t===e.id})),onClick:function(){i.unfollow(e.id)}}," Unfollow "):r.a.createElement("button",{style:{backgroundColor:"#4CAF50"},disabled:i.followingInProgress.some((function(t){return t===e.id})),onClick:function(){i.follow(e.id)}}," Follow "))),r.a.createElement("span",null,r.a.createElement("span",null,r.a.createElement("div",null,e.name," "),"  ",r.a.createElement("div",null," ",e.status," ")," ")))})))},ve=a(132),be=a.n(ve),_e=function(e){return r.a.createElement("div",{className:ue.a.preloaderDiv},r.a.createElement("img",{className:ue.a.preloader,src:be.a,alt:"Preloader"}),r.a.createElement("span",null,"\u0418\u0434\u0435\u0442 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0441\u0442\u0440\u0430\u043d\u0446\u044b!"))},Oe=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).onPageChange=function(t){e.props.getUsersThunkCreator(t,e.props.pageSize)},e}return Object(c.a)(a,[{key:"componentWillMount",value:function(){this.props.getUsersThunkCreator(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.props.isFetching?r.a.createElement(_e,null):null,r.a.createElement(Ee,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,users:this.props.users,unfollow:this.props.unfollow,follow:this.props.follow,onPageChange:this.onPageChange,followingInProgress:this.props.followingInProgress}))}}]),a}(r.a.Component),we=Object(R.d)(Object(D.b)((function(e){return{users:e.usersPage.users,pageSize:e.usersPage.pageSize,totalUsersCount:e.usersPage.totalUsersCount,currentPage:e.usersPage.currentPage,isFetching:e.usersPage.isFetching,followingInProgress:e.usersPage.followingInProgress}}),{follow:function(e){return function(){var t=Object(J.a)(W.a.mark((function t(a){return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(oe(!0,e)),t.next=3,q(e);case 3:0===t.sent.data.resultCode&&a(ne(e)),a(oe(!1,e));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unfollow:function(e){return function(){var t=Object(J.a)(W.a.mark((function t(a){return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(oe(!0,e)),t.next=3,K(e);case 3:0===t.sent.data.resultCode&&a(re(e)),a(oe(!1,e));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setCurrentPage:se,toggleFollowingProgress:oe,getUsersThunkCreator:function(e,t){return function(){var a=Object(J.a)(W.a.mark((function a(n){var r;return W.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(ie(!0)),a.next=3,Z(e,t);case 3:r=a.sent,n(ie(!1)),n({type:"SET_USERS",users:r.items}),n(se(e)),n({type:"SET_TOTAL_USERS_COUNT",count:r.totalCount});case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}}),G)(Oe),je=a(10),ke=a.n(je),Se=function(e){return r.a.createElement("div",{className:ke.a.friendItem},r.a.createElement("img",{width:"20px",height:"20px",src:pe.a,alt:"image"}),r.a.createElement("div",{className:ke.a.friendName},e.name))},Pe=function(e){var t=e.friends.map((function(e){return r.a.createElement(Se,{key:e.id,name:e.name,id:e.id})}));return r.a.createElement("div",{className:ke.a.friendsBlock},r.a.createElement("div",{className:ke.a.friendHead},r.a.createElement("p",null,"Friends")),r.a.createElement("div",{className:ke.a.itemBlock},t))},ye=Object(D.b)((function(e){return{name:e.sidebar.friends,friends:e.sidebar.friends}}),(function(e){return{}}))(Pe),Ne=function(e){return r.a.createElement("nav",{className:ke.a.nav},r.a.createElement("div",{className:ke.a.item},r.a.createElement(p.b,{to:"/profile",activeClassName:ke.a.activeLink},"Profile")),r.a.createElement("div",{className:ke.a.item},r.a.createElement(p.b,{to:"/dialogs",activeClassName:ke.a.activeLink},"Messages")),r.a.createElement("div",{className:ke.a.item},r.a.createElement(p.b,{to:"/news",activeClassName:ke.a.activeLink},"News")),r.a.createElement("div",{className:ke.a.item},r.a.createElement(p.b,{to:"/users",activeClassName:ke.a.activeLink},"Users")),r.a.createElement("div",{className:ke.a.item},r.a.createElement(p.b,{to:"/music",activeClassName:ke.a.activeLink},"Music")),r.a.createElement("div",{className:ke.a.item},r.a.createElement(p.b,{to:"/settings",activeClassName:ke.a.activeLink},"Settings")),r.a.createElement("div",{className:ke.a.item,style:{marginTop:"40px"}},r.a.createElement(ye,null)))},Ce=Object(D.b)((function(e){return{}}),(function(e){return{}}))(Ne),Ie=a(88),Te=a.n(Ie),Ae=function(e){var t=Object(n.useState)(!1),a=Object(de.a)(t,2),s=a[0],i=a[1],o=Object(n.useState)(e.status),c=Object(de.a)(o,2),l=c[0],u=c[1];Object(n.useEffect)((function(){u(e.status)}),[e.status]);return r.a.createElement("div",null,!s&&r.a.createElement("div",null,r.a.createElement("span",{onDoubleClick:function(){i(!0)}}," ",e.status||"-------"," ")),s&&r.a.createElement("div",null,r.a.createElement("input",{onChange:function(e){u(e.target.value)},onBlur:function(){i(!1),e.updateStatus(l)},value:l})))},Ue=function(e){return e.profile&&e.status?r.a.createElement("div",null,r.a.createElement("div",{className:Te.a.descriptionBlock},r.a.createElement("div",null," ",e.profile.fullName),r.a.createElement("img",{alt:"Image",style:{width:"200px"},src:e.profile.photos.large?e.profile.photos.large:pe.a}),r.a.createElement(Ae,{status:e.status,updateStatus:e.updateStatus}),r.a.createElement("div",null,e.profile.aboutMe))):r.a.createElement(_e,null)},xe={posts:[{id:1,likesCount:11,message:"Hello"},{id:2,likesCount:12,message:"Its my"},{id:3,likesCount:13,message:"first post"}],profile:null,status:""},Le=xe.posts[xe.posts.length-1].id,Be=function(e){return{type:"UPDATE_STATUS",status:e}},Fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-POST":return Object(b.a)(Object(b.a)({},e),{},{posts:[].concat(Object(v.a)(e.posts),[{id:++Le,message:t.newPostBody,likesCount:0}])});case"SET_USER_PROFILE":return Object(b.a)(Object(b.a)({},e),{},{profile:t.profile});case"SET_STATUS":return Object(b.a)(Object(b.a)({},e),{},{status:t.status});default:return e}},De=a(94),Me=a.n(De),Ge=a(133),Re=a.n(Ge),ze=function(e){return r.a.createElement("div",{className:Re.a.item},r.a.createElement("img",{src:"https://www.meme-arsenal.com/memes/825b9b3ef148fbf2b20f47951e170699.jpg",alt:"Image"}),e.message,r.a.createElement("div",null,r.a.createElement("span",null,"Like"),e.likesCount," "))},He=r.a.memo((function(e){var t=e.posts.map((function(e){return r.a.createElement(ze,{key:e.id,id:e.id,message:e.message,likesCount:e.likesCount})}));return r.a.createElement("div",{className:Me.a.postsBlock},r.a.createElement("h3",null," My posts "),r.a.createElement(Ve,{onSubmit:function(t){e.addPost(t.newPostBody)}}),r.a.createElement("div",{className:Me.a.posts},t))})),We=T("textarea"),Je=U(10),Ve=Object(y.a)({form:"addPostForm"})((function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement("div",null,r.a.createElement(P.a,{component:We,name:"newPostBody",placeholder:"\u0412\u0432\u0435\u0434\u0438 \u0442\u0435\u043a\u0441\u0442",validate:[A,Je]})),r.a.createElement("div",null,r.a.createElement("button",{style:{backgroundColor:"#4CAF50"}}," Add post")))})),Ye=He,Ze=Object(D.b)((function(e){return{posts:e.profilePage.posts}}),(function(e){return{addPost:function(t){e(function(e){return{type:"ADD-POST",newPostBody:e}}(t))}}}))(Ye),qe=function(e){return r.a.createElement("div",null,r.a.createElement(Ue,{profile:e.profile,updateStatus:e.updateStatus,status:e.status}),r.a.createElement(Ze,null))},Ke=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;!e&&this.props.isAuth&&((e=this.props.authUserId)||this.props.history.push("/login")),this.props.getUserProfileThunk(e),this.props.getStatusThunk(e)}},{key:"render",value:function(){return r.a.createElement(qe,Object.assign({},this.props,{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatusThunk}))}}]),a}(r.a.Component),Xe=Object(R.d)(Object(D.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{getUserProfileThunk:function(e){return function(){var t=Object(J.a)(W.a.mark((function t(a){var n;return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,X(e);case 2:n=t.sent,a({type:"SET_USER_PROFILE",profile:n});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getStatusThunk:function(e){return function(){var t=Object(J.a)(W.a.mark((function t(a){var n;return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Q.getStatus(e);case 2:n=t.sent,a({type:"SET_STATUS",status:n});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateStatusThunk:function(e){return function(){var t=Object(J.a)(W.a.mark((function t(a){var n;return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Q.updateStatus(e);case 2:0===(n=t.sent).resultCode&&a(Be(n));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),m.f)(Ke),Qe=a(45),$e=a.n(Qe),et=a(134),tt=a.n(et),at=function(e){return e.profile?r.a.createElement("header",{className:$e.a.header},r.a.createElement("img",{alt:"",src:tt.a,className:$e.a.iconImage}),r.a.createElement("div",{className:$e.a.loginBlock},e.isAuth?r.a.createElement("div",{className:$e.a.loginBlockName}," ",e.login," ",r.a.createElement("div",null," ",r.a.createElement("button",{style:{backgroundColor:"#4CAF50"},onClick:e.logout},"Log out")," ")," "):r.a.createElement(p.b,{to:"/login"},"Login"),r.a.createElement("div",{className:$e.a.userAvatarImage}," ",r.a.createElement("img",{alt:"",src:e.profile.photos.small?e.profile.photos.small:pe.a})))):r.a.createElement(_e,null)},nt=a(38),rt={usersId:null,email:null,login:null,isAuth:!1,profile:null,loginData:null},st=function(e,t,a,n){return{type:"SET_USER_DATA",payload:{userId:e,email:t,login:a,isAuth:n}}},it=function(e){return{type:"SET_USER_PROFILE",profile:e}},ot=function(){return function(){var e=Object(J.a)(W.a.mark((function e(t){var a,n,r,s,i;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$();case 2:0===(a=e.sent).resultCode&&(n=a.data,r=n.id,s=n.login,i=n.email,t(st(r,s,i,!0)),V.get("https://social-network.samuraijs.com/api/1.0/profile/".concat(r)).then((function(e){t(it(e.data))})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},ct=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER_DATA":return Object(b.a)(Object(b.a)({},e),t.payload);case"SET_USER_PROFILE":return Object(b.a)(Object(b.a)(Object(b.a)({},e),t.data),{},{profile:t.profile});default:return e}},lt=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(at,Object.assign({},this.props,{profile:this.props.profile,logout:this.props.logoutThunk}))}}]),a}(r.a.Component),ut=Object(D.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login,profile:e.auth.profile}}),{setAuthUserData:st,setUserProfile:it,logoutThunk:function(){return function(){var e=Object(J.a)(W.a.mark((function e(t){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te();case 2:0===e.sent.resultCode&&t(st(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(lt),mt=U(20),pt=T("input"),dt=Object(y.a)({form:"login"})((function(e){var t=e.handleSubmit,a=e.error;return r.a.createElement("form",{onSubmit:t},r.a.createElement("div",null,r.a.createElement(P.a,{name:"email",placeholder:"Email",component:pt,validate:[A,mt]})," "),r.a.createElement("div",null," ",r.a.createElement(P.a,{name:"password",placeholder:"Password",type:"password",validate:[A,mt],component:pt})," "),r.a.createElement("div",null," ",r.a.createElement(P.a,{name:"rememberMe",component:pt,type:"checkbox"}),"  Remember me "),r.a.createElement("div",{className:I.a.errorMessage},a," "),r.a.createElement("div",null," ",r.a.createElement("button",null,"Login ")," "))})),gt=Object(R.d)(Object(D.b)((function(e){return{isAuth:e.auth.isAuth}}),{loginThunk:function(e,t,a){return function(){var n=Object(J.a)(W.a.mark((function n(r){var s,i;return W.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ee(e,t,a);case 2:0===(s=n.sent).resultCode?r(ot()):(i=s.messages.length>0?s.messages[0]:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u0445\u043e\u0434\u0430",r(Object(nt.a)("login",{_error:i})));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}}))((function(e){var t=e.loginThunk;return e.isAuth?r.a.createElement(m.a,{to:"/profile"}):r.a.createElement("div",null,r.a.createElement("h1",null," LOGIN "),r.a.createElement(dt,{onSubmit:function(e){t(e.email,e.password,e.rememberMe)}}))})),ft={initialized:!1},ht=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_INITIALIZED":return Object(b.a)(Object(b.a)({},e),{},{initialized:!0});default:return e}},Et={friends:[{id:1,name:"Gor"},{id:2,name:"Gor1"},{id:3,name:"Gor2"}]},vt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et;arguments.length>1&&arguments[1];return Object(b.a)({},e)},bt=a(135),_t=a(127),Ot=Object(R.c)({profilePage:Fe,dialogsPage:O,sidebar:vt,usersPage:ce,auth:ct,form:_t.a,app:ht}),wt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||R.d,jt=Object(R.e)(Ot,wt(Object(R.a)(bt.a))),kt=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.props.initializeAppThunk()}},{key:"render",value:function(){return r.a.createElement("div",{className:"app-wrapper"},r.a.createElement(ut,null),r.a.createElement(Ce,null),r.a.createElement("div",{className:"app-wrapper-content"},r.a.createElement(m.b,{path:"/dialogs",render:function(){return r.a.createElement(z,null)}}),r.a.createElement(m.b,{path:"/profile/:userId?",render:function(){return r.a.createElement(Xe,null)}}),r.a.createElement(m.b,{path:"/users",render:function(){return r.a.createElement(we,null)}}),r.a.createElement(m.b,{path:"/login",render:function(){return r.a.createElement(gt,null)}}),r.a.createElement(m.b,{path:"/news",render:function(){return r.a.createElement(f,null)}}),r.a.createElement(m.b,{path:"/music",render:function(){return r.a.createElement(h,null)}}),r.a.createElement(m.b,{path:"/settings",render:function(){return r.a.createElement(E,null)}})))}}]),a}(r.a.Component),St=Object(R.d)(m.f,Object(D.b)((function(e){return{initialized:e.app.initialized}}),{initializeAppThunk:function(){return function(e){var t=e(ot());Promise.all([t]).then((function(){e({type:"SET_INITIALIZED"})}))}}}))(kt),Pt=function(e){return r.a.createElement(D.a,{store:jt},r.a.createElement(p.a,{basename:"/my-new-react-app"},r.a.createElement(St,null)))};i.a.render(r.a.createElement(Pt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},32:function(e,t,a){e.exports=a.p+"static/media/userImage.e22c9c39.png"},44:function(e,t,a){e.exports={photoUser:"users_photoUser__3yj-6",preloader:"users_preloader__15U_q",userBlock:"users_userBlock__3-1z4",preloaderDiv:"users_preloaderDiv__3uQCj"}},45:function(e,t,a){e.exports={header:"Header_header__2M9B4",loginBlock:"Header_loginBlock__3JC8N",userAvatarImage:"Header_userAvatarImage__rDZ0L",iconImage:"Header_iconImage__MbuJP"}},53:function(e,t,a){e.exports={formControl:"formsControls_formControl__8tCmK",error:"formsControls_error__2bd85",errorMessage:"formsControls_errorMessage__Lcjr3"}},88:function(e,t,a){e.exports={descriptionBlock:"ProfileInfo_descriptionBlock__2Qpm3"}},94:function(e,t,a){e.exports={postsBlock:"MyPosts_postsBlock__3YZHX",posts:"MyPosts_posts__15IVd"}}},[[161,1,2]]]);
//# sourceMappingURL=main.ec146ba7.chunk.js.map